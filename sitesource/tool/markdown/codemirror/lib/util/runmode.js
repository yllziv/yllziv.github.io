CodeMirror.runMode=function(r,e,o,t){function n(r){return r.replace(/[<&]/,function(r){return"<"==r?"&lt;":"&amp;"})}var i=CodeMirror.getMode(CodeMirror.defaults,e),a=1==o.nodeType,s=t&&t.tabSize||CodeMirror.defaults.tabSize;if(a){var d=o,f=[],u=0;o=function(r,e){if("\n"==r)return f.push("<br>"),void(u=0);for(var o="",t=0;;){var i=r.indexOf("\t",t);if(i==-1){o+=n(r.slice(t)),u+=r.length-t;break}u+=i-t,o+=n(r.slice(t,i));var a=s-u%s;u+=a;for(var d=0;d<a;++d)o+=" ";t=i+1}e?f.push('<span class="cm-'+n(e)+'">'+o+"</span>"):f.push(o)}}for(var l=CodeMirror.splitLines(r),c=CodeMirror.startState(i),p=0,v=l.length;p<v;++p){p&&o("\n");for(var M=new CodeMirror.StringStream(l[p]);!M.eol();){var C=i.token(M,c);o(M.current(),C,p,M.start),M.start=M.pos}}a&&(d.innerHTML=f.join(""))};