!function(){function e(e){var n,o=e.getCursor(),t=e.getTokenAt(o),r=CodeMirror.innerMode(e.getMode(),t.state).mode;if("comment"==t.type&&r.blockCommentStart&&r.blockCommentContinue){var i,m=t.string.indexOf(r.blockCommentEnd),l=e.getRange(CodeMirror.Pos(o.line,0),CodeMirror.Pos(o.line,t.end));if(m!=-1&&m==t.string.length-r.blockCommentEnd.length);else if(0==t.string.indexOf(r.blockCommentStart)){if(n=l.slice(0,t.start),!/^\s*$/.test(n)){n="";for(var C=0;C<t.start;++C)n+=" "}}else(i=l.indexOf(r.blockCommentContinue))!=-1&&i+r.blockCommentContinue.length>t.start&&/^\s*$/.test(l.slice(0,i))&&(n=l.slice(0,i))}return null==n?CodeMirror.Pass:void e.replaceSelection("\n"+n+r.blockCommentContinue,"end")}for(var n=["clike","css","javascript"],o=0;o<n.length;++o)CodeMirror.extendMode(n[o],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(n,o,t){t&&t!=CodeMirror.Init&&n.removeKeyMap("continueComment");var r={name:"continueComment"};r["string"==typeof o?o:"Enter"]=e,n.addKeyMap(r)})}();