CodeMirror.runMode=function(r,e,o,t){var i=CodeMirror.getMode(CodeMirror.defaults,e),a=1==o.nodeType,n=t&&t.tabSize||CodeMirror.defaults.tabSize;if(a){var s=o,d=[],M=0;o=function(r,e){if("\n"==r)return d.push("<br>"),void(M=0);for(var o="",t=0;;){var i=r.indexOf("\t",t);if(i==-1){o+=CodeMirror.htmlEscape(r.slice(t)),M+=r.length-t;break}M+=i-t,o+=CodeMirror.htmlEscape(r.slice(t,i));var a=n-M%n;M+=a;for(var s=0;s<a;++s)o+=" ";t=i+1}e?d.push('<span class="cm-'+CodeMirror.htmlEscape(e)+'">'+o+"</span>"):d.push(o)}}for(var f=CodeMirror.splitLines(r),l=CodeMirror.startState(i),p=0,c=f.length;p<c;++p){p&&o("\n");for(var u=new CodeMirror.StringStream(f[p]);!u.eol();){var v=i.token(u,l);o(u.current(),v,p,u.start),u.start=u.pos}}a&&(s.innerHTML=d.join(""))};